 ;ПРИМЕР 6
 ;Для матрицы, определенной в сегменте данных, вычислить суммы элементов 
 ;строк

  .model small
  .stack 100h
  .data 
 ;
  m db 5   	;размеры матрицы:число строк
  n db 4  	;число столбцов
  mt db 1,2,3,4  	;матрица
     db 5,6,7,8  
     db 9,1,2,3  
     db 4,3,2,1
     db 0,2,7,9

   sum dw 5dup(?) 	;массив для сумм строк

  .code
  start:
	mov ax,@data  	;позиционируем регистр ds на сегмент данных
	mov ds,ax
	mov cl,m 	;количество внешних циклов равно числу строк
	xor ch,ch     
	lea bx,mt     	;адрес матрицы в bx	
	xor si,si   	;для адресации элементов массива sum
  p2:	mov sum[si],0	;обнуляем элемент массива сумм
	push cx		;сохраняем счетчик циклов в стек
	mov di,0	;для движения     по строке
	xor dx,dx 
	mov cl,n	;счетчик внутренних циклов равен числу столбцов
	xor ch,ch
  p1:	mov al,[bx+di]	;в al очередной элемент матрицы
	cbw		;расширяем байт в al в слово в ax
	add dx,ax	;добавляем очередной элемент к сумме
	inc di		;переход к следующему элементу строки
	loop p1
	mov sum[si],dx	;запись суммы очередной строки в массив
	add si,2	;переход к следующему элементу массива сумм
	add bx,n	;переход на следующую строку
	pop cx		;извлекаем счетчик внешних циклов из стека
	loop p2

	mov ax,4c00h
	int 21h
  end start