

;Пример 8 (билет № 23)
;В массиве чисел, определенном в сегменте данных,найти 
;максимальный и минимальный элементы, поменять их местами


.model small
.stack	100h
.data

len equ	10	;количество элементов в mas
mas	db	1,0,9,8,0,7,8,0,2,0
min	db	?	;здесь будет минимум
max	db	?	;здесь будет максимум

.code
start:
	mov	ax,@data
	mov	ds,ax
	mov	cx,len	;длина mas в cx
	xor	ax,ax
	xor 	si,si
	xor	bx,bx

	mov	al,mas[si] 	;первый элемент массива в al  	
	mov	min,al		;минимум равен 1-му элементу
	mov	max,al		;максимум равен 1-му элементу
	mov	bl,1		;в bl индекс минимума
	mov 	bh,1		;в bh индекс максимума
cycl:
	cmp	al,min		;очередной элемент меньше минимума?
	ja	m1		;нет - переход на m1	
	mov	min,al		;да - заменяем минимум 
	mov	bl,si		;и запоминаем его индекс
m1:	cmp	al,max		;очередной элемент больше максимума?
	jb	m2		;нет - переход на m2
	mov	max,al		;да - заменяем максимум	
	mov	bh,si		;и запоминаем его индекс	
m2:	inc 	si		;переход к следующему элементу массива	
	mov	al,mas[si]	;помещаем его в al	
	loop	cycl		;и замыкаем цикл

	mov	al,min		;записываем минимум на место максимума
	mov	si,bh		;
	mov	mas[si],al	;
		
	mov	al,max		;записываем максимум на место минимума
	mov	si,bl		;
	mov	mas[si],al	;

exit:
	mov	ax,4c00h
	int	21h	;возврат управления операционной системе
end	start
