;ПРИМЕР 4



; Упорядочить массив символов, заданный в сегменте данных,по убыванию

.stack 100h
.data
;
massiv db 'andirmckcy'

.code
start:
	mov ax,@data  ;позиционируем регистр ds на сегмент данных
	mov ds,ax

;  Сортировка символов методом пузырька

	xor si,si
	xor di,di
	mov cx,9	;всего 9 тактов: символ с индексом siбудем сравнивать со всеми последующими 
			;(не рассортированными), у которых будет индекс di

for1:			;for (si=0;si<9;si++)
	push cx
	mov di,si
	inc di
for2:		;ащк (di=si+1;di<9;di++)	
		;этот цикл просматривает все последующие за si символы

	push cx
	mov al,massiv[si] ;сравниваем символы с индексами si
	cmp al,massiv[di] ;и di

	jnl lab1	  ;если условие [si]>[di] выполняется, то продолжаем цикл

	mov ah,massiv[di] ;если нет, то меняем символы местами 
	mov massiv[si],ah
	mov massiv[di],al
lab1:
	inc di		;наращиваем di
	pop cx		;извлекаем cx из стека
	loop for2
	
	inc si		;наращиваем si

	pop cx		;извлекаем cx из стека
	dec cx		;уменьшаем его на 1
	cmp cx,0	;конец цикла?
	je lab2		; да - продолжение программы и пропуск команды безусловного перехода
	jmp for1	;нет - безусловный переход на метку for1 и продолжение цикла 
lab2:
	mov ax,4c00h
	int 21h
end start