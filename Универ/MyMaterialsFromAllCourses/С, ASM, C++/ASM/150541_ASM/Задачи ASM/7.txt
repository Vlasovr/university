;Пример 7
;В строке символов, определенной в кодовом сегменте, подсчитать число повторений заданного символа 

.model tiny
.code
org 100h
begin:
	jmp continue

;тексты сообщений

nochar	db	0ah,0dh,'Символ не найден.','$'
;строка для поиска
string	db	'Поиск символа в этой строке.',0ah,0dh,'$'

continue:
	mov	ah,09h
	lea	dx,string
	int	21h	;вывод сообщения string
	mov	al,'а'	;символ для поиска - `а`(кириллица)
	xor 	bx,bx	;для адресации символов строки
	xor	dx,dx	;здесь будет число повторений символа
	mov	cx,29	;для префикса repne - длина строки


;поиск в строке (пока искомый символ и символ в строке не совпадут)

l1:
	mov 	dl,string[bx]
	cmp	dl,al	;очередной символ сравниваем с заданным
	jne	next	;если не равны - переход на следующий символ,
	inc	dh	;иначе увеличиваем число повторений символа

next:	inc	bx	;
	loop 	l1

	cmp 	dh,0
	jne	exit

;вывод сообщения о том, что символ не найден
	mov	ah,09h
	lea	dx,nochar
	int	21h	;вывод сообщения nochar

exit:		;выход
	mov	ax,4c00h
	int	21h
end	begin

