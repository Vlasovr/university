;Пример 20
;В массиве чисел, определенном в сегменте данных,элементы, кратные пяти, заменить единицами,
подсчитать их количество и записать в память. 


.model small
.stack	100h
.data

len equ	15	;количество элементов в mas
mas	db	1,6,5,9,2,10,9,6,15,7,8,15,7,20,5
kol	db	?	;здесь будет количество чисел, кратных пяти

.code
start:
	mov	ax,@data
	mov	ds,ax
	mov	cx,len		;длина mas в cx
	xor	ax,ax	
	xor 	si,si	
	xor	bx,bx
	xor	dx,dx
	mov	bl,5
	mov	dl,1

m1:	mov	al,mas[si] 	;в al помещаем очередной элемент массива
	mov	bh,al		;сохраняем его в bh
	div	bl		;делим его на пять
	cmp	ah,0		;остаток равен нулю?(элемент кратный пяти)
	jne	m2		;нет - продолжаем, переход на m2
	mov	mas[si],dl	;да - помещаем в массив единицу
	inc	dh		;и подсчитываем количество чисел, кратных пяти
m2:
	inc 	si		;переходим к следующему элементу массива
	loop	m1		;замыкаем цикл

	mov	kol,dh		;количество чисел кратных пяти записываем в память
exit:
	mov	ax,4c00h
	int	21h	;возврат управления операционной системе
end	start
